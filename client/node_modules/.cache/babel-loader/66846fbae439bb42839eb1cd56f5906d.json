{"ast":null,"code":"//actions\nconst COUNTRIES_FETCH = 'COUNTRIES_FETCH';\nconst COUNTRY_FETCH = 'COUNTRY_FETCH';\nconst COUNTRY_CREATE = 'COUNTRY_CREATE';\nconst COUNTRY_UPDATE = 'COUNTRY_UPDATE';\nconst COUNTRY_DELETE = 'COUNTRY_DELETE'; //effects\n\nexport const fetchCountries = payload => {\n  return dispatch => {\n    fetch('http://localhost:3001/countries').then(res => res.json()).then(countries => {\n      dispatch({\n        type: COUNTRIES_FETCH,\n        countries: [...countries]\n      });\n    });\n  };\n};\nexport const fetchCountryById = id => {\n  return dispatch => {\n    fetch(`http://localhost:3001/country/${id}`).then(country => {\n      console.log('country: ', country);\n      dispatch({\n        type: COUNTRY_FETCH,\n        countries\n      });\n    });\n  };\n};\nexport const createCountry = payload => {\n  console.log('payload: ', payload);\n  const reqOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  };\n  return dispatch => {\n    fetch('http://localhost:3001/countries', reqOptions).then(res => res.json()).then(data => {\n      dispatch({\n        type: COUNTRY_CREATE,\n        data\n      });\n    });\n  };\n};\nexport const updateCountry = payload => {\n  const reqOptions = {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  };\n  return dispatch => {\n    fetch(`http://localhost:3001/country/${payload.id}`, reqOptions).then(res => res.json()).then(data => {\n      dispatch({\n        type: COUNTRY_UPDATE,\n        data\n      });\n    });\n  };\n};\nexport const deleteCountry = id => {\n  return dispatch => {\n    fetch(`http://localhost:3001/country/${id}`, {\n      method: 'DELETE'\n    }).then(res => {\n      dispatch({\n        type: COUNTRY_DELETE\n      });\n    });\n  };\n}; //reducer\n\nconst countriesReducer = (state = {\n  countries: []\n}, action) => {\n  switch (action.type) {\n    case COUNTRIES_FETCH:\n      {\n        return { ...state,\n          countries: [...action.countries]\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default countriesReducer;","map":{"version":3,"sources":["/home/matej/Documents/2esys/client/src/redux/reducers/countries.js"],"names":["COUNTRIES_FETCH","COUNTRY_FETCH","COUNTRY_CREATE","COUNTRY_UPDATE","COUNTRY_DELETE","fetchCountries","payload","dispatch","fetch","then","res","json","countries","type","fetchCountryById","id","country","console","log","createCountry","reqOptions","method","headers","body","JSON","stringify","data","updateCountry","deleteCountry","countriesReducer","state","action"],"mappings":"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","sourcesContent":["//actions\nconst COUNTRIES_FETCH = 'COUNTRIES_FETCH';\nconst COUNTRY_FETCH = 'COUNTRY_FETCH';\nconst COUNTRY_CREATE = 'COUNTRY_CREATE';\nconst COUNTRY_UPDATE = 'COUNTRY_UPDATE';\nconst COUNTRY_DELETE = 'COUNTRY_DELETE';\n\n//effects\nexport const fetchCountries = payload => {\n  return dispatch => {\n    fetch('http://localhost:3001/countries').then(res =>\n      res.json()\n      ).then(countries => {\n      dispatch({\n        type: COUNTRIES_FETCH,\n        countries: [...countries],\n      });\n    });\n  };\n};\n\nexport const fetchCountryById = (id) => {\n  return dispatch => {\n    fetch(`http://localhost:3001/country/${id}`).then(country => {\n      console.log('country: ', country)\n      dispatch({\n        type: COUNTRY_FETCH,\n        countries,\n      });\n    });\n  };\n};\n\nexport const createCountry = (payload) => {\n  console.log('payload: ', payload);\n  const reqOptions = {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload)\n  }\n\n  return dispatch => {\n    fetch('http://localhost:3001/countries', reqOptions)\n    .then(res => res.json())\n    .then(data => {\n      dispatch({\n        type: COUNTRY_CREATE,\n        data\n      });\n      }\n    )\n  }\n}\nexport const updateCountry = (payload) => {\n  const reqOptions = {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload)\n  }\n\n  return dispatch => {\n    fetch(`http://localhost:3001/country/${payload.id}`, reqOptions)\n    .then(res => res.json())\n    .then(data => {\n      dispatch({\n        type: COUNTRY_UPDATE,\n        data\n      });\n      }\n    )\n  }\n}\n\nexport const deleteCountry = (id) => {\n  return dispatch => {\n    fetch(`http://localhost:3001/country/${id}`, { method: 'DELETE' })\n    .then((res) =>{\n      dispatch({\n        type: COUNTRY_DELETE,\n      });\n      }\n    )\n  }\n}\n\n//reducer\nconst countriesReducer = (state = {countries: []}, action) => {\n  switch (action.type) {\n    case COUNTRIES_FETCH: {\n      return {\n        ...state,\n        countries: [...action.countries],\n      }\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default countriesReducer;"]},"metadata":{},"sourceType":"module"}