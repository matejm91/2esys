{"ast":null,"code":"//actions\nconst AIRLINES_FETCH = 'AIRLINES_FETCH';\nconst AIRLINE_FETCH = 'AIRLINE_FETCH';\nconst AIRLINE_CREATE = 'AIRLINE_CREATE';\nconst AIRLINE_UPDATE = 'AIRLINE_UPDATE';\nconst AIRLINE_DELETE = 'AIRLINE_DELETE'; //effects\n\nexport const fetchAirlines = payload => {\n  return dispatch => {\n    fetch('http://localhost:3001/airlines').then(res => res.json()).then(airlines => {\n      dispatch({\n        type: AIRLINES_FETCH,\n        airlines: [...airlines]\n      });\n    });\n  };\n};\nexport const createAirline = payload => {\n  const reqOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  };\n  return dispatch => {\n    fetch('http://localhost:3001/airlines', reqOptions).then(res => res.json()).then(data => {\n      dispatch({\n        type: AIRLINE_CREATE,\n        data\n      });\n    });\n  };\n};\nexport const updateAirline = payload => {\n  const reqOptions = {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  };\n  return dispatch => {\n    fetch(`http://localhost:3001/airline/${payload.id}`, reqOptions).then(res => res.json()).then(data => {\n      dispatch({\n        type: AIRLINE_UPDATE,\n        data\n      });\n    });\n  };\n};\nexport const deleteAirline = id => {\n  return dispatch => {\n    fetch(`http://localhost:3001/airline/${id}`, {\n      method: 'DELETE'\n    }).then(res => {\n      dispatch({\n        type: AIRLINE_DELETE\n      });\n    });\n  };\n}; //reducer\n\nconst airlinesReducer = (state = {\n  airlines: []\n}, action) => {\n  switch (action.type) {\n    case AIRLINES_FETCH:\n      {\n        return { ...state,\n          airlines: [...action.airlines]\n        };\n      }\n\n    case AIRLINE_FETCH:\n      {\n        return { ...state,\n          airline: action.airline[0]\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default airlinesReducer;","map":{"version":3,"sources":["/home/matej/Documents/2esys/client/src/redux/reducers/airlines.js"],"names":["AIRLINES_FETCH","AIRLINE_FETCH","AIRLINE_CREATE","AIRLINE_UPDATE","AIRLINE_DELETE","fetchAirlines","payload","dispatch","fetch","then","res","json","airlines","type","createAirline","reqOptions","method","headers","body","JSON","stringify","data","updateAirline","id","deleteAirline","airlinesReducer","state","action","airline"],"mappings":"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","sourcesContent":["//actions\nconst AIRLINES_FETCH = 'AIRLINES_FETCH';\nconst AIRLINE_FETCH = 'AIRLINE_FETCH';\nconst AIRLINE_CREATE = 'AIRLINE_CREATE';\nconst AIRLINE_UPDATE = 'AIRLINE_UPDATE';\nconst AIRLINE_DELETE = 'AIRLINE_DELETE';\n\n//effects\nexport const fetchAirlines = payload => {\n  return dispatch => {\n    fetch('http://localhost:3001/airlines').then(res =>\n      res.json()\n      ).then(airlines => {\n      dispatch({\n        type: AIRLINES_FETCH,\n        airlines: [...airlines],\n      });\n    });\n  };\n};\n\nexport const createAirline = (payload) => {\n  const reqOptions = {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload)\n  }\n\n  return dispatch => {\n    fetch('http://localhost:3001/airlines', reqOptions)\n    .then(res => res.json())\n    .then(data => {\n      dispatch({\n        type: AIRLINE_CREATE,\n        data\n      });\n      }\n    )\n  }\n}\nexport const updateAirline = (payload) => {\n  const reqOptions = {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload)\n  }\n\n  return dispatch => {\n    fetch(`http://localhost:3001/airline/${payload.id}`, reqOptions)\n    .then(res => res.json())\n    .then(data => {\n      dispatch({\n        type: AIRLINE_UPDATE,\n        data\n      });\n      }\n    )\n  }\n}\n\nexport const deleteAirline = (id) => {\n  return dispatch => {\n    fetch(`http://localhost:3001/airline/${id}`, { method: 'DELETE' })\n    .then((res) =>{\n      dispatch({\n        type: AIRLINE_DELETE,\n      });\n      }\n    )\n  }\n}\n\n//reducer\nconst airlinesReducer = (state = {airlines: []}, action) => {\n  switch (action.type) {\n    case AIRLINES_FETCH: {\n      return {\n        ...state,\n        airlines: [...action.airlines],\n      }\n    }\n\n    case AIRLINE_FETCH: {\n      return {\n        ...state,\n        airline: action.airline[0],\n      }\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default airlinesReducer;"]},"metadata":{},"sourceType":"module"}